function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"6ANv":function(e,t,i){"use strict";i.r(t),i.d(t,"ShopModule",(function(){return Z}));var r=i("ofXK"),n=i("tyNb"),c=i("oFSl"),a=i("quSY"),o=i("AytR"),s=i("fXoL"),u=i("ngAm"),l=i("YuHs"),b=i("i23I"),p=i("joJT"),f=i("DB/N"),h=i("Mpt7"),d=i("mwRl"),g=i("xJkR"),v=i("pkgd"),m=i("fQrM"),S=function(){return{height:"356px",width:"100%"}},O=function(){return{height:"22px",width:"100%"}},_=function(){return{height:"19px",width:"100%"}},R=function(){return{height:"17px",width:"100%"}};function k(e,t){1&e&&(s.Sb(0,"div",12),s.Sb(1,"div",13),s.Nb(2,"ngx-skeleton-loader",7),s.Sb(3,"div",14),s.Sb(4,"h4"),s.Nb(5,"ngx-skeleton-loader",7),s.Rb(),s.Sb(6,"div",15),s.Nb(7,"ngx-skeleton-loader",7),s.Rb(),s.Sb(8,"div",16),s.Nb(9,"ngx-skeleton-loader",7),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Ab(2),s.mc("theme",s.oc(4,S)),s.Ab(3),s.mc("theme",s.oc(5,O)),s.Ab(2),s.mc("theme",s.oc(6,_)),s.Ab(2),s.mc("theme",s.oc(7,R)))}var P=function(){return{height:"60px",width:"60px"}};function y(e,t){1&e&&(s.Sb(0,"li"),s.Nb(1,"ngx-skeleton-loader",17),s.Rb()),2&e&&(s.Ab(1),s.mc("theme",s.oc(1,P)))}var j=function(){return{height:"30px",width:"70%"}};function w(e,t){1&e&&(s.Sb(0,"div",2),s.Sb(1,"div",3),s.Sb(2,"div",4),s.Sb(3,"div",5),s.Sb(4,"div",6),s.Nb(5,"ngx-skeleton-loader",7),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",4),s.Ec(7,k,10,8,"div",8),s.fc(8,"generateFakeObjects"),s.Rb(),s.Sb(9,"div",4),s.Sb(10,"div",9),s.Sb(11,"div",10),s.Sb(12,"ul"),s.Ec(13,y,2,2,"li",11),s.fc(14,"generateFakeObjects"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e&&(s.Ab(5),s.mc("theme",s.oc(7,j)),s.Ab(2),s.mc("ngForOf",s.gc(8,3,6)),s.Ab(6),s.mc("ngForOf",s.gc(14,5,3)))}function N(e,t){1&e&&s.Gc(0,"results")}function C(e,t){1&e&&s.Gc(0,"result")}function A(e,t){1&e&&s.Gc(0,"results")}function D(e,t){if(1&e&&(s.Sb(0,"p"),s.Gc(1),s.Qb(2,20),s.Ec(3,N,1,0,"ng-template",21),s.Ec(4,C,1,0,"ng-template",22),s.Ec(5,A,1,0,"ng-template",23),s.Pb(),s.Rb()),2&e){var i=s.ec(2);s.Ab(1),s.Kc(" Showing ",i.getMyCurrentPageNumber(),"\u2013",i.getCurrentLengthOfProducts()," of ",i.getTotalNumberOfResults()," "),s.Ab(1),s.mc("ngPlural",i.getTotalNumberOfResults())}}var E=function(){return["productPreview","src"]},x=function(e){return["../",e,"shop-details"]};function I(e,t){if(1&e&&(s.Sb(0,"div",12),s.Sb(1,"div",13),s.Sb(2,"div",24),s.Sb(3,"a",25),s.Nb(4,"mak-pit-img-lazy",26),s.Rb(),s.Sb(5,"div",27),s.Sb(6,"a",28),s.Nb(7,"i",29),s.Rb(),s.Rb(),s.Rb(),s.Sb(8,"div",14),s.Sb(9,"h4"),s.Sb(10,"a",28),s.Gc(11),s.Rb(),s.Rb(),s.Sb(12,"div",15),s.Sb(13,"span"),s.Gc(14,"Sales: "),s.Sb(15,"strong"),s.Gc(16),s.fc(17,"number"),s.Rb(),s.Rb(),s.Rb(),s.Sb(18,"div",16),s.Sb(19,"span"),s.Gc(20),s.fc(21,"currency"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e){var i=t.$implicit;s.Ab(4),s.mc("src",null==i?null:i.getIn(s.oc(16,E)))("alt",null==i?null:i.getIn(s.oc(17,E))),s.Ab(2),s.mc("routerLink",s.pc(18,x,i.get("id"))),s.Ab(4),s.mc("routerLink",s.pc(20,x,i.get("id"))),s.Ab(1),s.Ic(" ",null==i?null:i.get("title")," "),s.Ab(5),s.Hc(s.ic(17,7,null==i?null:i.get("totalSales"),"1.0","en-US")),s.Ab(4),s.Ic(" ",s.jc(21,11,null==i?null:i.get("price"),"KES","symbol",".2-2")," ")}}var L=function(e){return["..",e]};function M(e,t){if(1&e&&(s.Sb(0,"li"),s.Sb(1,"a",28),s.Nb(2,"i",30),s.Rb(),s.Rb()),2&e){var i=s.ec(2);s.Ab(1),s.mc("routerLink",s.pc(1,L,i.fetchPrevious()))}}function F(e,t){if(1&e&&(s.Sb(0,"li"),s.Sb(1,"a",28),s.Gc(2),s.Rb(),s.Rb()),2&e){var i=t.$implicit,r=s.ec(2);s.Db("active",r.markPageNavItemActive(i)),s.Ab(1),s.mc("routerLink",s.pc(4,L,i+1)),s.Ab(1),s.Hc(i+1)}}function T(e,t){if(1&e&&(s.Sb(0,"li"),s.Sb(1,"a",28),s.Nb(2,"i",31),s.Rb(),s.Rb()),2&e){var i=s.ec(2);s.Ab(1),s.mc("routerLink",s.pc(1,L,i.fetchNext()))}}function U(e,t){if(1&e&&(s.Sb(0,"div",2),s.Sb(1,"div",3),s.Sb(2,"div",4),s.Sb(3,"div",5),s.Sb(4,"div",6),s.Ec(5,D,6,4,"p",18),s.Rb(),s.Rb(),s.Rb(),s.Sb(6,"div",4),s.Ec(7,I,22,22,"div",8),s.Rb(),s.Sb(8,"div",4),s.Sb(9,"div",9),s.Sb(10,"div",10),s.Sb(11,"ul"),s.Ec(12,M,3,3,"li",18),s.Ec(13,F,3,6,"li",19),s.Ec(14,T,3,3,"li",18),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&e){var i=s.ec();s.Ab(5),s.mc("ngIf",i.getMyCurrentPageNumber()),s.Ab(2),s.mc("ngForOf",i.products),s.Ab(5),s.mc("ngIf",i.fetchPrevious()),s.Ab(1),s.mc("ngForOf",i.fakeObjectArray()),s.Ab(1),s.mc("ngIf",i.fetchNext())}}var B,G,J,W,$,K=((B=function(){function e(t,i,r,n){_classCallCheck(this,e),this._shopService=t,this._changeDetectorRef=i,this._activatedRoute=r,this._scrollService=n,this.products=h.b([]),this.paginationDetails=h.a({count:0,next:0}),this.isFirstPage=!1,this._routeParams=h.a({}),this.showLoader=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this._extractCurrentPageNumber()}},{key:"ngAfterViewInit",value:function(){}},{key:"ngOnDestroy",value:function(){this._unsubscribeRouteParamsSubscription(),this._unsubscribeListProductSubscription()}},{key:"_resetProductsOnRouteChange",value:function(){this.products=h.b([])}},{key:"getTotalNumberOfResults",value:function(){var e=this.paginationDetails.get("count");return Object(p.f)(e)?e:0}},{key:"getCurrentLengthOfProducts",value:function(){return this.products.toList().size}},{key:"fakeObjectArray",value:function(){var e=this.paginationDetails.get("totalNumberOfPages");return Object(p.f)(e)?Object(f.a)(e):[]}},{key:"_determineIfWeAreAtTheFirstPage",value:function(e){1===e?this.isFirstPage||(this.isFirstPage=!0):this.isFirstPage&&(this.isFirstPage=!1)}},{key:"markPageNavItemActive",value:function(e){var t=Object(p.c)(this._routeParams.get("pageNumber"));return!!Object(p.f)(t)&&t-1===e}},{key:"_extractCurrentPageNumber",value:function(){var e=this;this._routeParamsSubscription=this._activatedRoute.params.subscribe((function(t){var i=Object(p.i)(t.pageNumber,1,p.a.NUMBER);e._determineIfWeAreAtTheFirstPage(i),e._routeParams=e._routeParams.set("pageNumber",i),e._resetProductsOnRouteChange(),e._listProduct()}))}},{key:"fetchPrevious",value:function(){var e=Object(p.c)(this._routeParams.get("pageNumber"));if(!Object(p.f)(e))return 0;var t=Object(p.c)(this.paginationDetails.get("totalNumberOfPages"));return Object(p.f)(t)?1===e?0:e-1:0}},{key:"getMyCurrentPageNumber",value:function(){var e=Object(p.c)(this._routeParams.get("pageNumber"));return Object(p.f)(e)?e:0}},{key:"fetchNext",value:function(){var e=Object(p.c)(this._routeParams.get("pageNumber"));if(!Object(p.f)(e))return 0;var t=Object(p.c)(this.paginationDetails.get("totalNumberOfPages"));if(!Object(p.f)(t))return 0;var i=e+1;return i>t?0:i}},{key:"_unsubscribeRouteParamsSubscription",value:function(){this._routeParamsSubscription instanceof a.a&&this._routeParamsSubscription.unsubscribe()}},{key:"_unsubscribeListProductSubscription",value:function(){this._listProductSubscription instanceof a.a&&this._listProductSubscription.unsubscribe()}},{key:"_computeTheTotalNumberOfPages",value:function(e){if(Object(p.f)(e)){var t=Math.ceil(e/6);this.paginationDetails=this.paginationDetails.set("count",e),this.paginationDetails=this.paginationDetails.set("totalNumberOfPages",t)}}},{key:"_listProduct",value:function(){var e=this;this.showLoader||(this.showLoader=!0,this._manuallyTriggerChangeDetection());var t=Object(p.d)(this._routeParams.get("pageNumber"));this._listProductSubscription=this._shopService.listProductForShopSection$(t).subscribe((function(t){var i=Object(p.c)(t.count);Object(p.f)(i)&&e._computeTheTotalNumberOfPages(i);var r=h.b(t.results);e.products=h.c(e.products,r),r.isEmpty()||(e.showLoader=!1,e._manuallyTriggerChangeDetection()),e._scrollToTop()}),(function(t){console.error(t),e.showLoader=!1}))}},{key:"_scrollToTop",value:function(){this._scrollService.scrollToPosition(0,0)}},{key:"_manuallyTriggerChangeDetection",value:function(){this._changeDetectorRef.detectChanges()}}]),e}()).\u0275fac=function(e){return new(e||B)(s.Mb(d.a),s.Mb(s.h),s.Mb(n.a),s.Mb(c.a))},B.\u0275cmp=s.Gb({type:B,selectors:[["mak-pit-spproduct-section"]],decls:3,vars:2,consts:[["class","product-area pos-relative pt-110 pb-120 fix",4,"ngIf","ngIfElse"],["showCtaSectionDetails",""],[1,"product-area","pos-relative","pt-110","pb-120","fix"],[1,"container"],[1,"row"],[1,"col-xl-6","col-lg-5","col-md-6","col-sm-7"],[1,"product-showing"],[3,"theme"],["class","col-xl-3 col-lg-3 col-md-6",4,"ngFor","ngForOf"],[1,"col-12"],[1,"basic-pagination","basic-pagination-2","text-center","mt-20"],[4,"ngFor","ngForOf"],[1,"col-xl-3","col-lg-3","col-md-6"],[1,"product-wrapper","text-center","mb-30"],[1,"product-text"],[1,"pro-rating"],[1,"pro-price"],["appearance","circle",3,"theme"],[4,"ngIf"],[3,"active",4,"ngFor","ngForOf"],[3,"ngPlural"],["ngPluralCase","0"],["ngPluralCase","1"],["ngPluralCase","other"],[1,"product-img"],["routerLink","./shop-details"],["height","300px","width","100%",3,"src","alt"],[1,"product-action"],[3,"routerLink"],[1,"fas","fa-search"],[1,"fas","fa-angle-double-left"],[1,"fas","fa-angle-double-right"]],template:function(e,t){if(1&e&&(s.Ec(0,w,15,8,"div",0),s.Ec(1,U,15,5,"ng-template",null,1,s.Fc)),2&e){var i=s.vc(2);s.mc("ngIf",t.showLoader)("ngIfElse",i)}},directives:[r.m,g.a,r.l,r.n,r.o,n.e,v.a],pipes:[m.a,r.f,r.c],encapsulation:2,changeDetection:0}),B),Q=i("OoQV"),V=((G=function(){function e(t,i,r){_classCallCheck(this,e),this._seoService=t,this._seoSocialShareService=i,this._location=r}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this._retrieveShopSEODetails()}},{key:"ngOnDestroy",value:function(){this._unsubscribeRetrieveShopSEODetailsSubscription()}},{key:"_unsubscribeRetrieveShopSEODetailsSubscription",value:function(){this._retrieveShopSEODetailsSubscription instanceof a.a&&this._retrieveShopSEODetailsSubscription.unsubscribe()}},{key:"_retrieveShopSEODetails",value:function(){var e=this;this._retrieveShopSEODetailsSubscription=this._seoService.retrieveShopSEODetails$().subscribe((function(t){e._seoSocialShareService.setData({title:t.title,keywords:t.keywords,description:t.description,image:t.image.src,imageAuxData:{width:t.image.width,height:t.image.height,secureUrl:t.image.src,alt:t.image.alt},type:t.type,author:t.author,section:t.section,published:t.published,modified:t.modified,url:"".concat(o.a.hostURL).concat(e._location.path())})}),(function(e){return console.error(e)}))}}]),e}()).\u0275fac=function(e){return new(e||G)(s.Mb(u.a),s.Mb(l.a),s.Mb(r.i))},G.\u0275cmp=s.Gb({type:G,selectors:[["mak-pit-shop-main"]],features:[s.zb([c.a])],decls:4,vars:0,consts:[["pageTitle","Product Page"]],template:function(e,t){1&e&&(s.Nb(0,"mak-pit-site-breadcrumb",0),s.Sb(1,"main"),s.Nb(2,"mak-pit-spproduct-section"),s.Nb(3,"mak-pit-brand"),s.Rb())},directives:[b.a,K,Q.a],encapsulation:2,changeDetection:0}),G),z=i("VgZw"),H=[{path:"",component:(J=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),J.\u0275fac=function(e){return new(e||J)},J.\u0275cmp=s.Gb({type:J,selectors:[["mak-pit-shop"]],decls:2,vars:0,template:function(e,t){1&e&&(s.Nb(0,"mak-pit-header-style-two"),s.Nb(1,"router-outlet"))},directives:[z.a,n.g],encapsulation:2}),J),children:[{path:"",redirectTo:"1"},{path:":pageNumber",component:V},{path:":productID/shop-details",loadChildren:function(){return Promise.all([i.e(0),i.e(18)]).then(i.bind(null,"C0of")).then((function(e){return e.ShopDetailsModule}))}}]}],X=((W=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=s.Kb({type:W}),W.\u0275inj=s.Jb({factory:function(e){return new(e||W)},imports:[[n.f.forChild(H)],n.f]}),W),Y=i("PCNd"),Z=(($=_createClass((function e(){_classCallCheck(this,e)}))).\u0275mod=s.Kb({type:$}),$.\u0275inj=s.Jb({factory:function(e){return new(e||$)},imports:[[r.b,X,Y.a,g.b]]}),$)},mwRl:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var r=i("tk/3"),n=i("EZQ8"),c=i("joJT"),a=i("lJxs"),o=i("AytR"),s=i("fXoL"),u=function(){var e=function(){function e(t){_classCallCheck(this,e),this._httpClient=t}return _createClass(e,[{key:"_formatShowcaseItemWithPhoto",value:function(e){return{alt:Object(c.d)(null==e?void 0:e.caption),src:Object(c.b)(null==e?void 0:e.image)}}},{key:"listProductReview$",value:function(e,t){var i=this,s=(o.a.baseURL+o.a.shop.rootURL+o.a.shop.productReviews()).replace(":productID",e),u=new r.c;return Object(c.f)(t)&&(u=u.set("p",Object(c.d)(t))),this._httpClient.get(s,{params:u}).pipe(Object(n.a)(1e3,5),Object(a.a)((function(e){var t,r,n=null!==(r=null===(t=null==e?void 0:e.results)||void 0===t?void 0:t.map((function(e){return{fullName:Object(c.d)(e.full_name),clientImage:i._formatShowcaseItemWithPhoto(e.client_image),review:Object(c.d)(e.review),createdAt:Object(c.d)(e.created_at),rating:Object(c.i)(e.rating,0,c.a.NUMBER)}})).filter((function(e){return!Object(c.g)(e)})))&&void 0!==r?r:null;return{next:Object(c.i)(e.next,void 0,c.a.NUMBER),results:n}})))}},{key:"retrieveProductDetail$",value:function(e){var t=this,i=(o.a.baseURL+o.a.shop.rootURL+o.a.shop.productDetail).replace(":productID",e);return this._httpClient.get(i).pipe(Object(n.a)(1e3,5),Object(a.a)((function(e){var i,r=null===(i=null==e?void 0:e.product_images)||void 0===i?void 0:i.map((function(e){return t._formatShowcaseItemWithPhoto(e)}));return{title:Object(c.d)(e.title),price:{was:Object(c.i)(e.price.was,null,c.a.NUMBER),now:Object(c.i)(e.price.now,null,c.a.NUMBER)},productImages:r,description:Object(c.d)(e.description),keywords:Object(c.d)(e.keywords),totalSales:Object(c.i)(e.total_sales,null,c.a.NUMBER),createdAt:Object(c.d)(e.created_at),modifiedDate:Object(c.d)(e.modified_date),totalReviews:Object(c.i)(e.total_reviews,0,c.a.NUMBER)}})))}},{key:"listProductForShopSection$",value:function(e){var t=this,i=o.a.baseURL+o.a.shop.rootURL+o.a.shop.listProductForShopSection,s=new r.c;return Object(c.f)(e)&&(s=s.set("p",Object(c.d)(e))),this._httpClient.get(i,{params:s}).pipe(Object(n.a)(1e3,5),Object(a.a)((function(e){var i,r,n=null!==(r=null===(i=null==e?void 0:e.results)||void 0===i?void 0:i.map((function(e){var i=Object(c.c)(e.id);return Object(c.f)(i)?{title:Object(c.d)(e.title),productPreview:t._formatShowcaseItemWithPhoto(e.product_preview),id:i,price:Object(c.i)(e.price,0,c.a.NUMBER),totalSales:Object(c.i)(e.total_sales,0,c.a.NUMBER)}:null})).filter((function(e){return!Object(c.g)(e)})))&&void 0!==r?r:null;return{count:Object(c.i)(e.count,void 0,c.a.NUMBER),next:Object(c.i)(e.next,void 0,c.a.NUMBER),results:n}})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Wb(r.a))},e.\u0275prov=s.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);