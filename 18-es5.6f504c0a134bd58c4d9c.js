function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var c=e[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{C0of:function(t,e,i){"use strict";i.r(e),i.d(e,"ShopDetailsModule",(function(){return dt}));var c=i("ofXK"),n=i("tyNb"),a=i("fXoL"),r=i("i23I"),o=i("joJT"),s=i("Mpt7"),b=i("quSY"),l=i("cxbk"),u=i("mwRl"),p=i("oFSl"),d=i("YuHs"),m=i("VBA1"),f=i("8NUV"),g=i("03QB"),h=i("xJkR"),v=i("Fnnk"),S=i("kREL"),R=i("pkgd"),w=i("fQrM"),k=function(){return{height:"300px",width:"100%"}};function D(t,e){1&t&&(a.Sb(0,"div",20),a.Nb(1,"ngx-skeleton-loader",12),a.Rb()),2&t&&(a.Ab(1),a.mc("theme",a.oc(1,k)))}function _(t,e){1&t&&(a.Qb(0),a.Ec(1,D,2,2,"ng-template",19),a.Pb())}var A=function(){return{height:"90px",width:"90px"}};function y(t,e){1&t&&(a.Sb(0,"a",22),a.Nb(1,"ngx-skeleton-loader",12),a.Rb()),2&t&&(a.Ab(1),a.mc("theme",a.oc(1,A)))}function P(t,e){1&t&&(a.Qb(0),a.Ec(1,y,2,2,"ng-template",21),a.Pb())}var I=function(){return{height:"25px",width:"70%"}};function x(t,e){1&t&&(a.Sb(0,"span"),a.Nb(1,"ngx-skeleton-loader",12),a.Rb()),2&t&&(a.Ab(1),a.mc("theme",a.oc(1,I)))}var E=function(){return{height:"25px",width:"100%"}},N=function(){return{height:"150px",width:"100%"}},O=function(){return{height:"50px",width:"50px"}};function C(t,e){if(1&t&&(a.Sb(0,"section",2),a.Sb(1,"div",3),a.Sb(2,"div",4),a.Sb(3,"div",5),a.Sb(4,"mak-pit-tabs",6),a.Sb(5,"div",7),a.Sb(6,"mak-pit-tab-item"),a.Ec(7,_,2,0,"ng-container",8),a.fc(8,"generateFakeObjects"),a.Rb(),a.Rb(),a.Sb(9,"mak-pit-tab-list",9),a.Ec(10,P,2,0,"ng-container",8),a.fc(11,"generateFakeObjects"),a.Rb(),a.Rb(),a.Rb(),a.Sb(12,"div",5),a.Sb(13,"div",10),a.Sb(14,"div",11),a.Sb(15,"h1"),a.Nb(16,"ngx-skeleton-loader",12),a.Rb(),a.Sb(17,"div",13),a.Sb(18,"span"),a.Nb(19,"ngx-skeleton-loader",12),a.Rb(),a.Sb(20,"span",14),a.Nb(21,"ngx-skeleton-loader",12),a.Rb(),a.Rb(),a.Sb(22,"div",15),a.Ec(23,x,2,2,"span",16),a.Rb(),a.Rb(),a.Sb(24,"p"),a.Nb(25,"ngx-skeleton-loader",12),a.Rb(),a.Sb(26,"div",17),a.Nb(27,"ngx-skeleton-loader",18),a.Nb(28,"ngx-skeleton-loader",18),a.Nb(29,"ngx-skeleton-loader",18),a.Nb(30,"ngx-skeleton-loader",18),a.Nb(31,"ngx-skeleton-loader",18),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&t){var i=a.ec();a.Ab(7),a.mc("ngForOf",a.gc(8,12,3)),a.Ab(3),a.mc("ngForOf",a.gc(11,14,3)),a.Ab(6),a.mc("theme",a.oc(16,E)),a.Ab(3),a.mc("theme",a.oc(17,I)),a.Ab(2),a.mc("theme",a.oc(18,I)),a.Ab(2),a.mc("ngIf",i.productDetails.has("totalSales")),a.Ab(2),a.mc("theme",a.oc(19,N)),a.Ab(2),a.mc("theme",a.oc(20,O)),a.Ab(1),a.mc("theme",a.oc(21,O)),a.Ab(1),a.mc("theme",a.oc(22,O)),a.Ab(1),a.mc("theme",a.oc(23,O)),a.Ab(1),a.mc("theme",a.oc(24,O))}}function F(t,e){if(1&t&&(a.Sb(0,"div",20),a.Nb(1,"mak-pit-img-lazy",28),a.Rb()),2&t){var i=a.ec().$implicit;a.Ab(1),a.mc("src",i.get("src"))("alt",i.get("alt"))}}function T(t,e){1&t&&(a.Qb(0),a.Ec(1,F,2,2,"ng-template",19),a.Pb())}function j(t,e){if(1&t&&(a.Sb(0,"a",22),a.Nb(1,"mak-pit-img-lazy",29),a.Rb()),2&t){var i=a.ec().$implicit;a.Ab(1),a.mc("src",i.get("src"))("alt",i.get("alt"))}}function L(t,e){1&t&&(a.Qb(0),a.Ec(1,j,2,2,"ng-template",21),a.Pb())}function G(t,e){if(1&t&&(a.Sb(0,"mak-pit-tabs",6),a.Sb(1,"div",7),a.Sb(2,"mak-pit-tab-item"),a.Ec(3,T,2,0,"ng-container",8),a.Rb(),a.Rb(),a.Sb(4,"mak-pit-tab-list",9),a.Ec(5,L,2,0,"ng-container",8),a.Rb(),a.Rb()),2&t){var i=a.ec(2);a.Ab(3),a.mc("ngForOf",i.productDetails.get("productImages")),a.Ab(2),a.mc("ngForOf",i.productDetails.get("productImages"))}}var M=function(){return["price","was"]};function Q(t,e){if(1&t&&(a.Sb(0,"span",14),a.Gc(1),a.fc(2,"currency"),a.Rb()),2&t){var i=a.ec(2);a.Ab(1),a.Ic(" ",a.jc(2,1,i.productDetails.getIn(a.oc(6,M)),"KES","symbol",".2-2")," ")}}function J(t,e){if(1&t&&(a.Sb(0,"span"),a.Gc(1," Sales: "),a.Sb(2,"strong"),a.Gc(3),a.fc(4,"number"),a.Rb(),a.Rb()),2&t){var i=a.ec(2);a.Ab(3),a.Hc(a.ic(4,1,null==i.productDetails?null:i.productDetails.get("totalSales"),"1.0","en-US"))}}function H(t,e){1&t&&(a.Sb(0,"a",22),a.Gc(1,"Description"),a.Rb())}function K(t,e){1&t&&(a.Qb(0),a.Ec(1,H,2,0,"ng-template",32),a.Pb())}function $(t,e){if(1&t&&(a.Sb(0,"a",22),a.Gc(1),a.Rb()),2&t){var i=a.ec(4);a.Ab(1),a.Ic("Reviews (",i.productDetails.get("totalReviews"),")")}}function z(t,e){1&t&&(a.Qb(0),a.Ec(1,$,2,1,"ng-template",32),a.Pb())}function U(t,e){if(1&t&&(a.Sb(0,"div",33),a.Nb(1,"p",34),a.Rb()),2&t){var i=a.ec(4);a.Ab(1),a.mc("innerHTML",i.productDetails.get("description"),a.zc)}}function V(t,e){1&t&&(a.Qb(0),a.Ec(1,U,2,1,"ng-template",19),a.Pb())}function B(t,e){1&t&&a.Nb(0,"span",44)}var X=function(){return["clientImage","src"]},Y=function(){return["clientImage","alt"]};function q(t,e){if(1&t&&(a.Sb(0,"div",38),a.Sb(1,"div",39),a.Nb(2,"mak-pit-img-lazy",40),a.Rb(),a.Sb(3,"div",41),a.Sb(4,"h4"),a.Gc(5),a.Sb(6,"span"),a.Gc(7),a.fc(8,"date"),a.Rb(),a.Rb(),a.Sb(9,"div",42),a.Ec(10,B,1,0,"span",43),a.fc(11,"generateFakeObjects"),a.Rb(),a.Sb(12,"p"),a.Gc(13),a.Rb(),a.Rb(),a.Rb()),2&t){var i=e.$implicit;a.Ab(2),a.mc("src",i.getIn(a.oc(11,X)))("alt",i.getIn(a.oc(12,Y))),a.Ab(3),a.Ic("",i.get("fullName")," - "),a.Ab(2),a.Hc(a.hc(8,6,i.get("createdAt"),"longDate")),a.Ab(3),a.mc("ngForOf",a.gc(11,9,i.get("rating"))),a.Ab(3),a.Ic(" ",i.get("review")," ")}}function W(t,e){if(1&t){var i=a.Tb();a.Sb(0,"div",45),a.Sb(1,"div",26),a.Sb(2,"button",46),a.ac("click",(function(){return a.yc(i),a.ec(5).listProductReview()})),a.Gc(3,"Load more reviews"),a.Rb(),a.Rb(),a.Rb()}}function Z(t,e){if(1&t&&(a.Sb(0,"div",33),a.Sb(1,"div",35),a.Ec(2,q,14,13,"div",36),a.Rb(),a.Rb(),a.Ec(3,W,4,0,"div",37)),2&t){var i=a.ec(4);a.Ab(2),a.mc("ngForOf",i.reviews),a.Ab(1),a.mc("ngIf",i.paginationDetailsForReviews.get("next"))}}function tt(t,e){1&t&&(a.Qb(0),a.Ec(1,Z,4,2,"ng-template",19),a.Pb())}function et(t,e){if(1&t){var i=a.Tb();a.Sb(0,"mak-pit-tabs",6),a.Sb(1,"mak-pit-tab-list",30),a.ac("tabSelectedEvent",(function(t){return a.yc(i),a.ec(2).handleTabSelectedEvent(t)})),a.Ec(2,K,2,0,"ng-container",16),a.Ec(3,z,2,0,"ng-container",16),a.Rb(),a.Sb(4,"div",31),a.Sb(5,"mak-pit-tab-item"),a.Ec(6,V,2,0,"ng-container",16),a.Ec(7,tt,2,0,"ng-container",16),a.Rb(),a.Rb(),a.Rb()}if(2&t){var c=a.ec(2);a.Ab(2),a.mc("ngIf",c.productDetails.get("description")),a.Ab(1),a.mc("ngIf",c.productDetails.get("totalReviews")),a.Ab(3),a.mc("ngIf",c.productDetails.get("description")),a.Ab(1),a.mc("ngIf",c.productDetails.get("totalReviews"))}}var it=function(){return["price","now"]};function ct(t,e){if(1&t&&(a.Sb(0,"section",2),a.Sb(1,"div",3),a.Sb(2,"div",4),a.Sb(3,"div",5),a.Ec(4,G,6,2,"mak-pit-tabs",23),a.Rb(),a.Sb(5,"div",5),a.Sb(6,"div",10),a.Sb(7,"div",11),a.Sb(8,"h1"),a.Gc(9),a.Rb(),a.Sb(10,"div",13),a.Sb(11,"span"),a.Gc(12),a.fc(13,"currency"),a.Rb(),a.Ec(14,Q,3,7,"span",24),a.Rb(),a.Sb(15,"div",15),a.Ec(16,J,5,5,"span",16),a.Rb(),a.Rb(),a.Sb(17,"p"),a.Gc(18),a.Rb(),a.Nb(19,"div",17),a.Rb(),a.Rb(),a.Rb(),a.Sb(20,"div",25),a.Sb(21,"div",26),a.Sb(22,"div",27),a.Ec(23,et,8,4,"mak-pit-tabs",23),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&t){var i=a.ec();a.Ab(4),a.mc("ngIf",i.productDetails.has("productImages")),a.Ab(5),a.Ic(" ",i.productDetails.get("title")," "),a.Ab(3),a.Ic(" ",a.jc(13,7,i.productDetails.getIn(a.oc(12,it)),"KES","symbol",".2-2")," "),a.Ab(2),a.mc("ngIf",i.productDetails.hasIn(a.oc(13,M))),a.Ab(2),a.mc("ngIf",i.productDetails.has("totalSales")),a.Ab(2),a.Ic(" ",i.productDetails.get("description")," "),a.Ab(5),a.mc("ngIf",i.productDetails.get("totalReviews")||i.productDetails.get("description"))}}var nt,at,rt,ot,st=((nt=function(){function t(e,i,c,n,a,r){_classCallCheck(this,t),this._shopService=e,this._changeDetectorRef=i,this._activatedRoute=c,this._scrollService=n,this._seoSocialShareService=a,this._location=r,this.productDetails=s.b({}),this._routeParams=s.a({}),this.reviews=s.b([]),this.paginationDetailsForReviews=s.a({next:0}),this.hasAlreadyFetchedReviewsAtLeastOnce=!1,this.showLoader=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this._extractRouteParams()}},{key:"ngAfterViewInit",value:function(){this._retrieveProductDetails()}},{key:"ngOnDestroy",value:function(){this._unsubscribeRouteParamsSubscription(),this._unsubscribeRetrieveProductDetailsSubscription(),this._unsubscribeListProductReviewSubscription()}},{key:"_unsubscribeListProductReviewSubscription",value:function(){this._listProductReviewSubscription instanceof b.a&&this._listProductReviewSubscription.unsubscribe()}},{key:"handleTabSelectedEvent",value:function(t){this.hasAlreadyFetchedReviewsAtLeastOnce||this.listProductReview()}},{key:"_extractRouteParams",value:function(){var t=this;this._routeParamsSubscription=this._activatedRoute.params.subscribe((function(e){var i=Object(o.c)(e.productID);Object(o.f)(i)&&(t._routeParams=t._routeParams.set("productID",i),t._scrollToTop())}))}},{key:"_unsubscribeRouteParamsSubscription",value:function(){this._routeParamsSubscription instanceof b.a&&this._routeParamsSubscription.unsubscribe()}},{key:"_unsubscribeRetrieveProductDetailsSubscription",value:function(){this._retrieveProductDetailsSubscription instanceof b.a&&this._retrieveProductDetailsSubscription.unsubscribe()}},{key:"_retrieveProductDetails",value:function(){var t=this;this.showLoader||(this.showLoader=!0,this._manuallyTriggerChangeDetection());var e=this._routeParams.get("productID");Object(o.f)(e)&&(this._retrieveProductDetailsSubscription=this._shopService.retrieveProductDetail$(Object(o.d)(e)).subscribe((function(e){t.productDetails=s.b(e),console.log({details:e}),t.productDetails.isEmpty()||(t._seoSocialShareService.setData({title:e.title,keywords:e.keywords,description:e.description,image:e.productImages[0].src,imageAuxData:{secureUrl:e.productImages[0].src,alt:e.productImages[0].alt},type:"post",author:"Makamithi Agrovet",section:"article",published:e.createdAt,modified:e.modifiedDate,url:"".concat(l.a.hostURL).concat(t._location.path())}),t.showLoader=!1,t._manuallyTriggerChangeDetection())}),(function(t){return console.error(t)})))}},{key:"listProductReview",value:function(){var t=this,e=Object(o.d)(this._routeParams.get("productID"));if(Object(o.f)(e)){var i=Object(o.c)(this.paginationDetailsForReviews.get("next"));Object(o.f)(i)&&(0===i&&(i=1),this._listProductReviewSubscription=this._shopService.listProductReview$(e,i).subscribe((function(e){t.paginationDetailsForReviews=t.paginationDetailsForReviews.set("next",Object(o.c)(e.next));var i=s.b(e.results);t.reviews=s.c(t.reviews,i),i.isEmpty()||t._manuallyTriggerChangeDetection(),t.hasAlreadyFetchedReviewsAtLeastOnce||(t.hasAlreadyFetchedReviewsAtLeastOnce=!0)})))}}},{key:"_scrollToTop",value:function(){this._scrollService.scrollToPosition(0,0)}},{key:"_manuallyTriggerChangeDetection",value:function(){this._changeDetectorRef.detectChanges()}}]),t}()).\u0275fac=function(t){return new(t||nt)(a.Mb(u.a),a.Mb(a.h),a.Mb(n.a),a.Mb(p.a),a.Mb(d.a),a.Mb(c.i))},nt.\u0275cmp=a.Gb({type:nt,selectors:[["mak-pit-spshop-details-section"]],decls:3,vars:2,consts:[["class","shop-banner-area pt-120 pb-80",4,"ngIf","ngIfElse"],["showCtaSectionDetails",""],[1,"shop-banner-area","pt-120","pb-80"],[1,"container"],[1,"row"],[1,"col-xl-6","col-lg-6"],["selectedTabClassName","active"],[1,"product-details-img","mb-20"],[4,"ngFor","ngForOf"],["className","shop-thumb-tab mb-30"],[1,"product-details","mb-30"],[1,"product-details-title"],[3,"theme"],[1,"details-price","mb-20"],[1,"old-price"],[1,"pro-rating","mb-20"],[4,"ngIf"],[1,"product-social","mb-30"],["appearance","circle",3,"theme"],["makPitTabPanel",""],[1,"product-large-img"],["makPitTab",""],[1,"nav-link"],["selectedTabClassName","active",4,"ngIf"],["class","old-price",4,"ngIf"],[1,"row","mt-50"],[1,"col-xl-12"],[1,"product-review"],["height","300px","width","100%",3,"src","alt"],["height","90px","width","100%",3,"src","alt"],["className","nav review-tab",3,"tabSelectedEvent"],[1,"tab-content"],["makPitTab","","className","nav-item"],[1,"review-text","mt-30"],[3,"innerHTML"],[1,"product-commnets"],["class","product-commnets-list",4,"ngFor","ngForOf"],["class","row mt-40",4,"ngIf"],[1,"product-commnets-list"],[1,"pro-comments-img"],["height","60px","width","100%",3,"src","alt"],[1,"pro-commnets-text"],[1,"pro-rating"],["class","far fa-star",4,"ngFor","ngForOf"],[1,"far","fa-star"],[1,"row","mt-40"],[1,"btn","brand-btn",3,"click"]],template:function(t,e){if(1&t&&(a.Ec(0,C,32,25,"section",0),a.Ec(1,ct,24,14,"ng-template",null,1,a.Fc)),2&t){var i=a.vc(2);a.mc("ngIf",e.showLoader)("ngIfElse",i)}},directives:[c.m,m.a,f.a,c.l,g.a,h.a,v.a,S.a,R.a],pipes:[w.a,c.c,c.f,c.e],encapsulation:2,changeDetection:0}),nt),bt=[{path:"",component:(at=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),at.\u0275fac=function(t){return new(t||at)},at.\u0275cmp=a.Gb({type:at,selectors:[["mak-pit-shop-details-main"]],decls:3,vars:0,consts:[["pageTitle","Product Details"]],template:function(t,e){1&t&&(a.Nb(0,"mak-pit-site-breadcrumb",0),a.Sb(1,"main"),a.Nb(2,"mak-pit-spshop-details-section"),a.Rb())},directives:[r.a,st],encapsulation:2,changeDetection:0}),at)}],lt=((rt=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=a.Kb({type:rt}),rt.\u0275inj=a.Jb({factory:function(t){return new(t||rt)},imports:[[n.f.forChild(bt)],n.f]}),rt),ut=i("PCNd"),pt=i("NNxv"),dt=((ot=_createClass((function t(){_classCallCheck(this,t)}))).\u0275mod=a.Kb({type:ot}),ot.\u0275inj=a.Jb({factory:function(t){return new(t||ot)},imports:[[c.b,lt,ut.a,pt.a,h.b]]}),ot)}}]);